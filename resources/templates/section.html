<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org"
				xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta charset="UTF-8">
<title>Section</title>
</head>
<div sec:authorize="isAuthenticated()">
    Welcome <b><span sec:authentication="name">Username</span></b>
    &nbsp;
    <i><span sec:authentication="principal.authorities">Roles</span></i>
</div>
<body>
	<form th:method="POST" th:action="@{/section/add}" th:object="${add}" sec:authorize="hasAnyAuthority('ADMIN','CREATOR')">
	    	<input type="text" th:field="*{section}" id="section" placeholder="укажите секцию">	    				    		
	  	    <!-- <input type="text" th:field="*{quantity}" id="quantity"> -->	
		    <input  type="text" th:field="*{description}" id="description" placeholder="укажите описание">  
		    <input type="submit" value="add"> 
	</form>    
	<table>
	    	<thead>
	    		<tr>	
	    			<th>Categories</th>
	    		</tr>
	    		<tr>
	    			<th>Number</th>
	    			<th>Name</th>
	    			<th>Quantity</th>
	    			<th>Description</th>
	    			<th>action</th>
	    		</tr>
	    	</thead>
	    	<tbody>
	    		<tr th:each = "sec,state :${sections}">
	    			<td>
	    				<a th:href="@{/section/products/{id}(id=${sec.getId()})}">
							<span th:text="${state.count}">№</span>
						</a>
					</td>
	    			<td >
	    				<span th:text="${sec.getSection()}">SectionName</span>
	    			</td>
	    			<td>
	    				<span th:text="${sec.getQuantity()}">SectionName</span>   				
	    			</td>
	    			<td>
	    				<span th:text="${sec.getDescription()}">SectionName</span>
	    			</td>
	    			<td>
	    				<form th:method="GET" th:action="@{/section/update/{id}(id=${sec.getId()})}" sec:authorize="hasAnyAuthority('EDITOR', 'ADMIN')">
	    					<input  type="submit" value="Get" >
	    				</form> 
	    				<form th:method="DELETE" th:action="@{/section/delete/{id}(id=${sec.getId()})}" sec:authorize="hasAnyAuthority('ADMIN')">
	    					<input type="submit" value="Delete" onclick="return confirm('Are you sure you want to delete this item?')">
	    				</form> 
	    			</td>
	    		</tr>
	    	</tbody>   	
	    </table><br/>         
</body>
</html>